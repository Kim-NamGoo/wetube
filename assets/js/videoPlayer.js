(()=>{const e=document.querySelector("video"),t=document.getElementById("play"),n=document.getElementById("mute"),d=document.getElementById("currentTime"),u=document.getElementById("totalTime"),l=document.getElementById("volume"),o=document.getElementById("timeline"),r=document.getElementById("fullScreen"),i=document.getElementById("videoContainer"),m=document.getElementById("videoControls");let a=.5;e.volume=a;const c=e=>new Date(1e3*e).toISOString().substring(11,19);let s=null,v=null;const E=()=>{m.classList.remove("showVideoControl")};t.addEventListener("click",(n=>{e.paused?(t.innerText="Pause",e.play()):(t.innerText="Play",e.pause())})),n.addEventListener("click",(t=>{e.muted?(e.muted=!1,l.value=.5):(e.muted=!0,l.value=0),n.innerText=e.muted?"Unmute":"Mute",l=e.muted?0:.5})),l.addEventListener("input",(t=>{const{target:{value:d}}=t;a=d,n.innerText=0===Number(d)?"Unmute":"Mute",e.muted=!Number(d)})),e.addEventListener("loadedmetadata",(t=>{u.innerText=c(Math.floor(e.duration)),o.max=Math.floor(e.duration)})),e.addEventListener("timeupdate",(t=>{d.innerText=c(Math.floor(e.currentTime)),o.value=Math.floor(e.currentTime)})),e.addEventListener("mousemove",(()=>{s&&(clearTimeout(s),s=null),v&&(clearTimeout(v),v=null),m.classList.add("showVideoControl"),v=setTimeout(E,3e3)})),e.addEventListener("mouseleave",(()=>{s=setTimeout(E,3e3)})),e.addEventListener("ended",(()=>{const{id:e}=i.dataset;fetch(`/api/videos/${e}/view`,{method:"POST"})})),o.addEventListener("input",(t=>{e.currentTime=o.value})),r.addEventListener("click",(()=>{document.fullscreenElement?(document.exitFullscreen(),r.innerText="Enter Full Screen"):(i.requestFullscreen(),r.innerText="Exit Full Screen")}))})();